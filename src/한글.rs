use char as ë¬¸ì;
use Option as ì˜µì…˜;
use Option::None as ì—†ìŒ;
use Option::Some as ìˆìŒ;

#[derive(Clone, Debug, PartialEq, Eq)]
pub enum ì´ˆì„± {
    ã„±,
    ã„²,
    ã„´,
    ã„·,
    ã„¸,
    ã„¹,
    ã…,
    ã…‚,
    ã…ƒ,
    ã……,
    ã…†,
    ã…‡,
    ã…ˆ,
    ã…‰,
    ã…Š,
    ã…‹,
    ã…Œ,
    ã…,
    ã…,
}

impl From<u32> for ì´ˆì„± {
    fn from(value: u32) -> Self {
        use ì´ˆì„±::*;
        match value {
            0 => ã„±,
            1 => ã„²,
            2 => ã„´,
            3 => ã„·,
            4 => ã„¸,
            5 => ã„¹,
            6 => ã…,
            7 => ã…‚,
            8 => ã…ƒ,
            9 => ã……,
            10 => ã…†,
            11 => ã…‡,
            12 => ã…ˆ,
            13 => ã…‰,
            14 => ã…Š,
            15 => ã…‹,
            16 => ã…Œ,
            17 => ã…,
            18 => ã…,
            _ => unreachable!(),
        }
    }
}

#[derive(Clone, Debug, PartialEq, Eq)]
pub enum ì¤‘ì„± {
    ã…,
    ã…,
    ã…‘,
    ã…’,
    ã…“,
    ã…”,
    ã…•,
    ã…–,
    ã…—,
    ã…˜,
    ã…™,
    ã…š,
    ã…›,
    ã…œ,
    ã…,
    ã…,
    ã…Ÿ,
    ã… ,
    ã…¡,
    ã…¢,
    ã…£,
}

impl From<u32> for ì¤‘ì„± {
    fn from(value: u32) -> Self {
        use ì¤‘ì„±::*;
        match value {
            0 => ã…,
            1 => ã…,
            2 => ã…‘,
            3 => ã…’,
            4 => ã…“,
            5 => ã…”,
            6 => ã…•,
            7 => ã…–,
            8 => ã…—,
            9 => ã…˜,
            10 => ã…™,
            11 => ã…š,
            12 => ã…›,
            13 => ã…œ,
            14 => ã…,
            15 => ã…,
            16 => ã…Ÿ,
            17 => ã… ,
            18 => ã…¡,
            19 => ã…¢,
            20 => ã…£,
            _ => unreachable!(),
        }
    }
}

#[derive(Clone, Debug, PartialEq, Eq)]
pub enum ì¢…ì„± {
    ì—†ìŒ,
    ã„±,
    ã„²,
    ã„³,
    ã„´,
    ã„µ,
    ã„¶,
    ã„·,
    ã„¹,
    ã„º,
    ã„»,
    ã„¼,
    ã„½,
    ã„¾,
    ã„¿,
    ã…€,
    ã…,
    ã…‚,
    ã…„,
    ã……,
    ã…†,
    ã…‡,
    ã…ˆ,
    ã…Š,
    ã…‹,
    ã…Œ,
    ã…,
    ã…,
}

impl From<u32> for ì¢…ì„± {
    fn from(value: u32) -> Self {
        use ì¢…ì„±::*;
        match value {
            0 => ì—†ìŒ,
            1 => ã„±,
            2 => ã„²,
            3 => ã„³,
            4 => ã„´,
            5 => ã„µ,
            6 => ã„¶,
            7 => ã„·,
            8 => ã„¹,
            9 => ã„º,
            10 => ã„»,
            11 => ã„¼,
            12 => ã„½,
            13 => ã„¾,
            14 => ã„¿,
            15 => ã…€,
            16 => ã…,
            17 => ã…‚,
            18 => ã…„,
            19 => ã……,
            20 => ã…†,
            21 => ã…‡,
            22 => ã…ˆ,
            23 => ã…Š,
            24 => ã…‹,
            25 => ã…Œ,
            26 => ã…,
            27 => ã…,
            _ => unreachable!(),
        }
    }
}

pub fn í•œê¸€_ë¶„í•´í•˜ê¸°(ê¸€ì: ë¬¸ì) -> ì˜µì…˜<(ì´ˆì„±, ì¤‘ì„±, ì¢…ì„±)> {
    if !('ê°€'..='í£').contains(&ê¸€ì) {
        return ì—†ìŒ;
    }
    let ë²ˆ = ê¸€ì as u32;
    let ë²ˆ = ë²ˆ - 44032;
    let ì´ˆ = ë²ˆ / 588;
    let ì¤‘ = (ë²ˆ / 28) % 21;
    let ì¢… = ë²ˆ % 28;
    ìˆìŒ((ì´ˆ.into(), ì¤‘.into(), ì¢….into()))
}

#[derive(Clone, Debug, PartialEq, Eq)]
pub struct í•œê¸€ë¬¸ì {
    ì´ˆì„±: ì´ˆì„±,
    ì¤‘ì„±: ì¤‘ì„±,
    ì¢…ì„±: ì¢…ì„±,
}

impl TryFrom<ë¬¸ì> for í•œê¸€ë¬¸ì {
    type Error = char;

    fn try_from(ê¸€ì: ë¬¸ì) -> Result<Self, Self::Error> {
        match í•œê¸€_ë¶„í•´í•˜ê¸°(ê¸€ì) {
            ìˆìŒ((ì´ˆì„±, ì¤‘ì„±, ì¢…ì„±)) => Ok(í•œê¸€ë¬¸ì {
                ì´ˆì„±, ì¤‘ì„±, ì¢…ì„±
            }),
            ì—†ìŒ => Err(ê¸€ì),
        }
    }
}

#[cfg(test)]
mod í…ŒìŠ¤íŠ¸ {
    use crate::í•œê¸€::{ì¢…ì„±, ì¤‘ì„±, ì´ˆì„±, í•œê¸€_ë¶„í•´í•˜ê¸°};
    use assert_eq as ì£¼ì¥_ê°™ìŒ;
    use Option::None as ì—†ìŒ;
    use Option::Some as ìˆìŒ;

    #[test]
    fn í•œê¸€_ë¶„í•´_í…ŒìŠ¤íŠ¸() {
        ì£¼ì¥_ê°™ìŒ!(í•œê¸€_ë¶„í•´í•˜ê¸°('ê°€'), ìˆìŒ((ì´ˆì„±::ã„±, ì¤‘ì„±::ã…, ì¢…ì„±::ì—†ìŒ)));
        ì£¼ì¥_ê°™ìŒ!(í•œê¸€_ë¶„í•´í•˜ê¸°('ë›™'), ìˆìŒ((ì´ˆì„±::ã„¸, ì¤‘ì„±::ã…, ì¢…ì„±::ã„µ)));
        ì£¼ì¥_ê°™ìŒ!(í•œê¸€_ë¶„í•´í•˜ê¸°('í£'), ìˆìŒ((ì´ˆì„±::ã…, ì¤‘ì„±::ã…£, ì¢…ì„±::ã…)));

        ì£¼ì¥_ê°™ìŒ!(í•œê¸€_ë¶„í•´í•˜ê¸°('ã„±'), ì—†ìŒ);
        ì£¼ì¥_ê°™ìŒ!(í•œê¸€_ë¶„í•´í•˜ê¸°('ã…'), ì—†ìŒ);
        ì£¼ì¥_ê°™ìŒ!(í•œê¸€_ë¶„í•´í•˜ê¸°('ğŸ¦€'), ì—†ìŒ);
    }
}
